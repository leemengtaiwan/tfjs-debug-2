<html>
<head>
    <!--<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.15.1/dist/tf.min.js"></script>-->
    <script src="dist/tf.js"></script>
</head>
<body>
    <div id="output_field"></div>
    <div id="result"></div>

    <!-- Replace this with your image. Make sure CORS settings allow reading the image! -->
    <img id="cat" src="woman-face.jpg"></img>

</body>
    <script>

    async function gan() {


        const MODEL_URL = 'http://localhost:1234/json_model/model.json';
        const model = await tf.loadGraphModel(MODEL_URL);


        console.log("Model loaded.");
        console.log(model);
        const cat = document.getElementById('cat');
        let t;
        t = tf.fromPixels(cat);

        // t = tf.ones([32, 32, 3]);

        t = t.toFloat();
        t = tf.expandDims(t, 0);
        // model.execute({input: t}).print();

        // tf.toPixels(out, document.getElementById('output_field'))
        // k = tf.ones([1, 32, 32, 3]);
        // k = k.toFloat();
        // k.print();
        // console.log(model.predict(k));
        console.log("Start transformation by model...")
        console.log(model.predict(t));

    }
    gan()
    </script>
</html>